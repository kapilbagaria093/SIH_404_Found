version: "3.1"

stories:
- story: user greets
  steps:
  - intent: greet
  - action: utter_greet

- story: interactive KB search - success
  steps:
  - intent: search_knowledge_base
  - action: action_search_kb
  - intent: affirm
  - action: utter_glad_it_helped

- story: interactive KB search - failure, then create ticket
  steps:
  - intent: search_knowledge_base
  - action: action_search_kb
  - intent: deny
  - action: utter_offer_create_ticket
  - intent: affirm
  - action: ticket_form
  - active_loop: ticket_form

- story: interactive KB search - failure, user declines ticket
  steps:
  - intent: search_knowledge_base
  - action: action_search_kb
  - intent: deny
  - action: utter_offer_create_ticket
  - intent: deny
  - action: utter_ok_no_ticket

- story: direct KB search fails, user wants to create ticket
  steps:
  - intent: search_knowledge_base
  - action: action_search_kb
  - action: utter_no_solution_found
  - intent: affirm
  - action: ticket_form
  - active_loop: ticket_form

- story: user checks system status
  steps:
  - intent: check_system_status
  - action: action_check_status